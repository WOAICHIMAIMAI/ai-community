-- 常见问题表初始化数据
USE ai_community;

-- 创建常见问题表（如果不存在）
CREATE TABLE IF NOT EXISTS common_problems (
    id INT AUTO_INCREMENT PRIMARY KEY COMMENT '问题ID',
    problem VARCHAR(255) NOT NULL COMMENT '问题标题',
    answer TEXT NOT NULL COMMENT '问题答案',
    type INT NOT NULL COMMENT '问题分类：1-账户相关 2-维修服务 3-社区使用 4-支付账单 5-技术支持 6-其他问题',
    priority INT DEFAULT 0 COMMENT '优先级：0-正常 1-置顶'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='常见问题表';

-- 插入测试数据
INSERT INTO common_problems (problem, answer, type, priority) VALUES
-- 账户相关问题 (type=1)
('如何注册账户？', '您可以通过手机号或用户名进行注册。点击注册按钮，填写必要信息，验证手机号后即可完成注册。', 1, 1),
('忘记密码怎么办？', '点击登录页面的"忘记密码"链接，输入您的手机号，系统会发送验证码到您的手机，验证后可重置密码。', 1, 1),
('如何修改个人信息？', '登录后进入个人中心，点击"编辑资料"即可修改昵称、头像、性别等个人信息。', 1, 0),
('如何进行实名认证？', '进入个人中心，点击"实名认证"，按照提示上传身份证照片并填写相关信息即可。', 1, 0),

-- 维修服务问题 (type=2)
('如何提交维修申请？', '进入"在线报修"页面，选择维修类型，填写问题描述、联系方式和地址信息，提交后等待维修师傅接单。', 2, 1),
('维修师傅多久能上门？', '一般情况下，维修师傅会在24小时内联系您确认上门时间。紧急情况可在备注中说明，我们会优先安排。', 2, 1),
('维修费用如何计算？', '维修费用包括上门费和材料费。具体费用会在维修师傅上门检查后与您确认，维修完成后统一结算。', 2, 0),
('对维修服务不满意怎么办？', '如果对维修服务不满意，可以在订单完成后进行评价反馈，我们会根据情况进行处理或重新安排维修。', 2, 0),

-- 社区使用问题 (type=3)
('如何发布帖子？', '进入社区页面，点击"发布"按钮，填写标题和内容，可以添加图片，发布后其他用户可以看到并评论。', 3, 1),
('如何删除自己的帖子？', '进入"我的帖子"页面，找到要删除的帖子，点击删除按钮即可。已有评论的帖子删除后评论也会一并删除。', 3, 0),
('如何举报不当内容？', '在帖子或评论页面点击举报按钮，选择举报原因并提交。我们会在24小时内处理举报内容。', 3, 0),

-- 支付账单问题 (type=4)
('支持哪些支付方式？', '目前支持微信支付、支付宝支付和银行卡支付。选择您方便的支付方式即可完成付款。', 4, 1),
('如何查看消费记录？', '进入个人中心的"消费记录"页面，可以查看所有的支付记录和消费明细。', 4, 0),
('支付失败怎么办？', '支付失败可能是网络问题或余额不足。请检查网络连接和账户余额，或尝试更换支付方式。', 4, 0),

-- 技术支持问题 (type=5)
('APP闪退怎么办？', '请尝试重启APP或手机，确保APP是最新版本。如果问题持续存在，请联系客服并提供手机型号和系统版本。', 5, 1),
('无法收到验证码？', '请检查手机号是否正确，确认短信没有被拦截。如果仍无法收到，请稍后重试或联系客服。', 5, 0),
('图片上传失败？', '请检查网络连接，确保图片大小不超过5MB，格式为JPG、PNG或GIF。如果问题持续，请尝试压缩图片后重新上传。', 5, 0),

-- 其他问题 (type=6)
('如何联系客服？', '您可以通过APP内的在线客服、客服热线400-xxx-xxxx或邮箱service@example.com联系我们。', 6, 1),
('服务时间是什么？', '我们的客服服务时间为周一至周日 9:00-21:00，维修服务时间为 8:00-20:00。', 6, 0),
('如何注销账户？', '如需注销账户，请联系客服提交申请。注销后所有数据将被删除且无法恢复，请谨慎操作。', 6, 0);
